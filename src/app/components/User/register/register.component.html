<div class="text-center h-10">
  <button (click)="goBack()" class="bg-[#65D0BD] py-1 px-8 intermediate:py-2 intermediate:px-12 mt-2 rounded-full text-white">
    <p> < Volver</p>
  </button>
</div>
<div class="rounded-3xl bg-[#e5e5efda] w-2/4 m-6 pb-6 pt-3 ml-auto mr-auto">
    <p id="registerFeedback"></p>
  <div>
    <h1 *ngIf="!isUpdateMode" class="font-bold pt-7 px-10 text-3xl font text-[#27272a]">Crea una cuenta</h1>
    <h1 *ngIf="isUpdateMode" class="font-bold pt-7 px-10 text-3xl font text-[#27272a]">Modificar cuenta</h1>
    <form [formGroup]="registerForm" (ngSubmit)="saveUser()" class="py-5 px-10">
      <div class="">
        <input placeholder="Alias" [formControl]="name"  type="text" class="w-full rounded-lg py-5 px-4 my-4 text-white bg-[#505151]"/>
        <div *ngIf="name.errors && (name.touched || name.dirty)" [ngClass]="'error'">
          <div *ngIf="name.errors['required']" class="text-red-700">Se requiere un nombre.</div>
          <div *ngIf="name.errors['minlength']" class="text-red-700">El nombre debe tener al menos 5 caracteres.</div>
          <div *ngIf="name.errors['maxlength']" class="text-red-700">El nombre puede contener como máximo 25 caracteres.</div>
        </div>
      </div>
      <div>
        <input placeholder="Email" [formControl]="email" type="email" class="w-full rounded-lg py-5 px-4 my-4 text-white bg-[#505151]"/>
        <div *ngIf="email.errors && (email.touched || email.dirty)" [ngClass]="'error'">
          <div *ngIf="email.errors['required']" class="text-red-700">Se requiere un mail.</div>
          <div *ngIf="email.errors['pattern']" class="text-red-700">Formato de mail no válido.</div>
        </div>
      </div>
      <div>
        <input placeholder="Contraseña" [formControl]="password" class="w-full rounded-lg py-5 px-4 my-4 text-white bg-[#505151]" type="password"/>
        <div *ngIf="password.errors && (password.touched || password.dirty)" [ngClass]="'error'">
          <div *ngIf="password.errors['required']" class="text-red-700">Se requiere una contraseña.</div>
          <div *ngIf="password.errors['minlength']" class="text-red-700">La contraseña debe tener al menos 8 caracteres.</div>
          <div *ngIf="password.errors['maxlength']" class="text-red-700">La contraseña puede contener como máximo 16 caracteres.</div>
        </div>
      </div>
      <div>
        <input placeholder="Confirma contraseña" [formControl]="password_confirmation" class="w-full rounded-lg py-5 px-4 my-4 text-white bg-[#505151]" type="password"/>
        <div *ngIf="password_confirmation.errors && (password_confirmation.touched || password_confirmation.dirty)" [ngClass]="'error'">
          <div *ngIf="password_confirmation.errors['required']" class="text-red-700">Se requiere la confirmación de la contraseña.</div>
          <div *ngIf="password_confirmation.errors['minlength']" class="text-red-700">La confirmación debe tener al menos 8 caracteres.</div>
          <div *ngIf="password_confirmation.errors['maxlength']" class="text-red-700">La confirmación puede contener como máximo 16 caracteres.</div>
        </div>
      </div>
      <div>
        <input placeholder="Población" [formControl]="zone" class="w-full rounded-lg py-5 px-4 my-4 text-white bg-[#505151]" type="text"/>
        <div *ngIf="zone.errors && (zone.touched || zone.dirty)" [ngClass]="'error'">
          <div *ngIf="zone.errors['required']" class="text-red-700">Se requiere una ciudad.</div>
          <div *ngIf="zone.errors['minlength']" class="text-red-700">La contraseña debe tener al menos 2 caracteres.</div>
          <div *ngIf="zone.errors['maxlength']" class="text-red-700">La contraseña puede contener como máximo 50 caracteres.</div>
        </div>
      </div>
      <div class="mb-4">
        <label class="block mb-2 text-sm font-medium intermediate:text-base text-gray-900 my-4" for="file_input">Subir imagen de perfil</label>
        <div class="flex">
          <input id="file_input" (change)="handleFileInput($event)" type="file" accept="image/*" class=" hidden my-2">
          <label for="file_input" class="block text-center w-44 text-xs intermediate:text-sm bg-[#65D0BD] text-white border border-gray-300 rounded-xl py-2 px-4 cursor-pointer hover:bg-[#87d2c4] transition duration-300 ease-in-out">
            Seleccionar archivo
          </label>
        </div>
      </div>   
      <div class="flex justify-center">
        <button [disabled]="registerForm.invalid" class="px-12 bg-[#7552D8] py-3 intermediate:px-20 mt-2 rounded-full text-white hover:bg-[#9294f1] hover:-translate-y-1 hover:scale-105 hover:duration-100" type="submit">Registrarse</button>
      </div>
    </form>
  </div>
</div>
  
